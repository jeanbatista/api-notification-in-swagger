swagger: "2.0"
info:
  version: "1.0.0"
  title: API de Notificação
  description: Notificação de pedidos e orçamentos
host: localhost:8010
basePath: /api/v1
schemes:
  - http
consumes:
  - application/json
produces:
  - application/json
paths:
  /notificacoes/pedidos/solicitacao:
    post:
      summary: Notificação de solicitação
      description: 'Notifica o atacadista com os dados do pedido.'
      operationId: solicitarPedido
      parameters:
        - in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/SolicitacaoPedidoBodyPost'
      tags:
        - Notificacao            
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/SolicitacaoPedidoResponse'
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"   
      x-swagger-router-controller: "Notificacao"
  /notificacoes/pedidos/orcamento/{num}/entrega/{data}/envio:
    post:
      summary: Notificação de Orçamento
      description: 'Notifica o logista com os dados do orçamento'
      operationId: enviarOrcamento
      parameters:
        - name: num
          in: path
          description: Número do orçamento
          required: true
          type: integer
        - name: data
          in: path
          description: Data entrega do orçamento
          required: true
          type: string
          format: date
      tags:
        - Notificacao              
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/SucessResponse'
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"   
      x-swagger-router-controller: "Notificacao"
  /notificacoes/pedidos/orcamento/{num}/aprova:
    post:
      summary: Notificação de confirmação
      description: 'Notifica a confirmação do pedido'
      operationId: aprovarPedido
      parameters:
        - name: num
          in: path
          description: Número do orçamento
          required: true
          type: integer
      tags:
        - Notificacao    
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/SucessResponse'
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"     
      x-swagger-router-controller: "Notificacao"            
  /notificacoes/pedidos/orcamento/{num}/reprova:
    post:
      summary: Notificação de cancelamento
      description: 'Notifica o cancelamento do pedido'
      operationId: reprovarPedido
      parameters:
        - name: num
          in: path
          description: Número do orçamento
          required: true
          type: integer
      tags:
        - Notificacao
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/SucessResponse'
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"  
      x-swagger-router-controller: "Notificacao"            
  /notificacoes/pedidos/orcamento/{num}/situacao/{estado}/envio:
    post:
      summary: Notificação de Situação  
      description: 'Notifica a situação do pedido'
      operationId: verificarSituacaoPedido
      parameters:
        - name: num
          in: path
          description: Número do orçamento
          required: true
          type: integer
        - name: estado
          in: path
          description: Estado em que o orçamento se encontra
          required: true
          type: string
      tags:
        - Notificacao            
      responses:
        "200":
          description: Success
          schema:
            $ref: '#/definitions/SucessResponse'
        default:
          description: Error
          schema:
            $ref: "#/definitions/ErrorResponse"       
      x-swagger-router-controller: "Notificacao"            
definitions:
  SucessResponse:
    required:
      - message
    properties:
      message:
        type: string   
  ErrorResponse:
    required:
      - message
    properties:
      message:
        type: string
  SolicitacaoPedidoResponse:
    required:
      - orcamento
    properties:
      orcamento:
        description: Número do orçamento
        type: integer
      link:
        description: Hypermedia para envio de orçamento      
        type: string
  SolicitacaoPedidoBodyPost:
    type: object
    properties:
      codigo:
        type: integer
        description: código identificador do pedido
      quantidade:
        type: integer
        description: quantidade do pedido
      observacao:
        type: string
        description: observações do pedido
